<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

<!-- Navigation bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Admin Panel</a>
    <ul class="navbar-nav ml-auto">
        <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal" data-target="#addUserModal">Add User</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal" data-target="#editUserModal">Edit User</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal" data-target="#deleteUserModal">Delete User</a>
        </li>
    </ul>
</nav>

<!-- Main content -->
<div class="container mt-4">
    <h2>Users</h2>

    <!-- User table -->
    <table class="table">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>John Doe</td>
            <td>john@example.com</td>
            <td>
                <button class="btn btn-sm btn-info edit-user" data-id="1">Edit</button>
                <button class="btn btn-sm btn-danger delete-user" data-id="1">Delete</button>
            </td>
        </tr>
        <!-- Add more rows as needed -->
        </tbody>
    </table>
</div>

<!-- Add User Modal -->
<div class="modal fade" id="addUserModal" tabindex="-1" role="dialog" aria-labelledby="addUserModalLabel" aria-hidden="true">
    <!-- Modal content -->
</div>

<!-- Edit User Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" role="dialog" aria-labelledby="editUserModalLabel" aria-hidden="true">
    <!-- Modal content -->
</div>

<!-- Delete User Modal -->
<div class="modal fade" id="deleteUserModal" tabindex="-1" role="dialog" aria-labelledby="deleteUserModalLabel" aria-hidden="true">
    <!-- Modal content -->
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    // Load modals via AJAX
    $(document).ready(function() {
        $(".nav-link").click(function(event) {
            event.preventDefault();
            var target = $(this).attr("data-target");
            $(target).modal("show");
        });

        $(".edit-user").click(function() {
            var userId = $(this).attr("data-id");
            $.ajax({
                url: "/get_user.php",
                type: "GET",
                data: { id: userId },
                success: function(response) {
                    $("#editUserModal .modal-content").html(response);
                }
            });
        });

        $(".delete-user").click(function() {
            var userId = $(this).attr("data-id");
            $.ajax({
                url: "/delete_user.php",
                type: "POST",
                data: { id: userId },
                success: function(response) {
                    $("#deleteUserModal .modal-content").html(response);
                }
            });
        });
    });
</script>
</body>
</html>
